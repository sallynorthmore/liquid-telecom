<!doctype html>
<html class="no-js" lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>test</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <style>body, html{ margin:0; width:100%; height:100%; background-color:#fff; overflow: hidden; } #container { width: 100%; height:100%; overflow: hidden; position: relative;} div{ font-size:0px; } button {position: absolute; top: 10%; right: 20%; background: grey; color: white; border: 0; padding: 1em 1.5em; font-size: 0.8em;}</style>
</head>

<body>
  <div id='container'></div>
  <button id='button'>Play animation</button>
  <script src="./bodymovin.min.js" type="text/javascript"></script>
  <!-- <script src="./animation.js"></script> -->
  <script>
  var animation;
  var button = document.getElementById("button");
  var container = document.getElementById("container");
  var loopFrames = [[125, 165]];
  var animData = {
    container: container,
    renderer: "svg",
    loop: false,
    autoplay: false,
    rendererSettings: {
      progressiveLoad: false
    },
    path: "telecom-wip.json"
  };
  animation = bodymovin.loadAnimation(animData);

  button.addEventListener('click', startAnimation);
  animation.addEventListener('complete', loopPulse)
  
  function startAnimation() {
    animation.goToAndPlay(0, true);
  }
  
  function loopPulse() {
    // animation.playSegments(segments, forceFlag) 
    // first param is a single array or multiple arrays of two values each(fromFrame,toFrame), 
    // second param is a boolean for forcing the new segment right away
    animation.playSegments([180,200],true);
  }
</script>
</body>

</html>
